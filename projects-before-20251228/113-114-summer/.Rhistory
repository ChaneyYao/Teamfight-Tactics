item_data_all = data[["units_overall"]][-c(1, 8, 35, 54), ]
combined_item_data = item_data_all %>%
inner_join(item_data_silvermere, by = "unit", suffix = c("_all", "_silvermere"))
View(combined_item_data)
source("C:/113_114_summer/Teamfight_Tactics/Internet_Scraping_items.R", echo=TRUE)
source("C:/113_114_summer/Teamfight_Tactics/Internet_Scraping_items.R", echo=TRUE)
combined_item_data = item_data_all %>%
inner_join(item_data_silvermere, by = "unit", suffix = c("_all", "_silvermere")) %>%
mutate(clean_name = sub("^TFT\\d+_", "", unit)) %>%
relocate(clean_name, .before = places_all) %>%
select(-unit)
item_name = data$item
item_name = data$item
all_games_silvermere <- data[["games"]][["count"]]
item_name
suffix_name <- paste0("_", item_name)
suffix_name
short_item_name = sub("^TFT\\d+_", "", item_name)
short_item_name
item_name = data$item
short_item_name = sub("^TFT\\d+_", "", item_name)
short_item_name
short_item_name = sub("^TFT", "", item_name)
short_item_name
library(tidyr)
item_name = data$item %>%
sub("^TFT_", "")
item_name
item_name = data$item %>%
sub("^TFT", "")
item_name
data$item
item_name = sub("^TFT", "", data$item)
item_name
item_name = sub("^TFT_", "", data$item)
item_name
sep_name = separate(item_name, into = c("game", "type", "name"))
item_name = sub("^TFT_", "", data$item) %>% as.data.frame()
sep_name = separate(item_name, into = c("game", "type", "name"))
View(item_name)
item_name = sub("^TFT_", "", data$item) %>% data.frame()
View(item_name)
item_name = sub("^TFT_", "", data$item) %>% data.frame() %>%
separate(item_name, into = c("game", "type", "name"))
item_name = sub("^TFT_", "", data$item) %>%
data.frame() %>%
separate(item_name, into = c("game", "type", "name"))
item_name = sub("^TFT_", "", data$item) %>%
separate(item_name, into = c("game", "type", "name"))
View(item_name)
original_item_name = data$item
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name) %>%
separate(item_name, into = c("game", "type", "name"))
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name) %>%
as.data.frame()
separate(item_name, into = c("game", "type", "name"))
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name) %>%
as.data.frame()
separate(., into = c("game", "type", "name"))
original_item_name = data$item
names(original_item_name) = "name"
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
names(original_item_name) = "name"
item_name = sub("^TFT_", "", original_item_name) %>%
as.data.frame()
separate(., into = c("game", "type", "name"))
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
names(original_item_name) = "name"
item_name = sub("^TFT_", "", original_item_name) %>%
as.data.frame()
separate("item", into = c("game", "type", "name"))
View(item_name)
original_item_name = data$item
df = data.frame(name = original_item_name)
View(df)
item_name = sub("^TFT_", "", original_item_name) %>%
separate("name", into = c("game", "type", "name"))
original_item_name = data$item
df = data.frame(name = original_item_name)
item_name = sub("^TFT_", "", df) %>%
separate("name", into = c("game", "type", "name"))
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
df = data.frame(name = original_item_name)
item_name = sub("^TFT_", "", df) %>%
separate("name", into = c("game", "type", "name"))
item_name = sub("^TFT_", "", df)
item_name = sub("^TFT_", "", original_item_name)
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name)
View(itme_name_df)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("game", "type", "name"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name"))
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
View(all_data)
all_results = all_data$results
View(all_results)
all_item_df = all_results %>%
sub("^TFT\\d+_", "", itemName)
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
sub("^TFT\\d+_", "", "itemName")
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
sub("^TFT\\d+_", "", itemName)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
sub("^TFT\\d+_", "", itemName)
all_item_df = all_results %>%
sub("^TFT\\d+_", "", itemName)
?sub
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
separate(itemName, into = c("Patch", "Type", "Category", "Name"))
View(all_item_df)
for (i in 1:nrow(all_item_df)) {
if (all_item_df$Category != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
}
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
separate(itemName, into = c("Patch", "Type", "Category", "Name"))
for (i in 1:nrow(all_item_df)) {
if (all_item_df$Category != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
}
for (i in 1:nrow(all_item_df)) {
if (all_item_df$Category[i] != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
}
?ends_with
library(stringr)
## 道具分類
for (i in 1:nrow(all_item_df)) {
### To identify Artifacts
if (all_item_df$Category[i] != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
### To Identify Emblems
if (str_ends(all_item_df$Name[i], "EmblemItem")){
all_item_df$Name[i] = sub(all_item_df$Name[i], "EmblemItem")
all_item_df$Category[i] = "Emblem"
}
}
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
library(stringr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
separate(itemName, into = c("Patch", "Type", "Category", "Name"))
## 道具分類
for (i in 1:nrow(all_item_df)) {
### To identify Artifacts
if (all_item_df$Category[i] != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
### To Identify Emblems
if (str_ends(all_item_df$Name[i], "EmblemItem")){
all_item_df$Name[i] = sub(all_item_df$Name[i], "EmblemItem")
all_item_df$Category[i] = "Emblem"
}
}
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
library(stringr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
separate(itemName, into = c("Patch", "Type", "Category", "Name"))
## 道具分類
### To identify Artifacts
for (i in 1:nrow(all_item_df)) {
if (all_item_df$Category[i] != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
}
### To identify Artifacts
for (i in 1:nrow(all_item_df)) {
if (str_ends(all_item_df$Name[i], "EmblemItem")){
all_item_df$Name[i] = sub(all_item_df$Name[i], "EmblemItem")
all_item_df$Category[i] = "Emblem"
}
}
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
library(stringr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
separate(itemName, into = c("Patch", "Type", "Category", "Name"))
## 道具分類
### To identify Artifacts
for (i in 1:nrow(all_item_df)) {
if (all_item_df$Category[i] != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
}
### To identify Artifacts
for (i in 1:nrow(all_item_df)) {
if (str_ends(all_item_df$Name[i], "EmblemItem")){
all_item_df$Name[i] = sub(all_item_df$Name[i], "EmblemItem")
all_item_df$Category[i] = "Emblem"
}
}
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
library(stringr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
separate(itemName, into = c("Patch", "Type", "Category", "Name"))
## 道具分類
### To identify Artifacts
for (i in 1:nrow(all_item_df)) {
if (all_item_df$Category[i] != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
### To identify Emblems
for (i in 1:nrow(all_item_df)) {
if (str_ends(all_item_df$Name[i], "EmblemItem")){
all_item_df$Name[i] = sub(all_item_df$Name[i], "EmblemItem")
all_item_df$Category[i] = "Emblem"
}
}
### To identify Emblems
for (i in 1:nrow(all_item_df)) {
if (str_ends(all_item_df$Name[i], "EmblemItem")){
all_item_df$Name[i] = sub(all_item_df$Name[i], "EmblemItem")
all_item_df$Category[i] = "Emblem"
}
}
source("C:/113_114_summer/Teamfight_Tactics/Internet_Scraping_items.R", echo=TRUE)
### To identify Emblems
for (i in 1:nrow(all_item_df)) {
if (str_ends(all_item_df$Category[i], "EmblemItem")){
all_item_df$Name[i] = sub(all_item_df$Name[i], "EmblemItem")
all_item_df$Category[i] = "Emblem"
}
}
rm(list = ls())
library(httr)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(tidyr)
library(stringr)
# Silvermere
url <- "https://api-hc.metatft.com/tft-stat-api/pbe-item_detail?days=3&itemName=TFT_Item_Artifact_SilvermereDawn"
res <- GET(url)
data <- fromJSON(content(res, as = "text", encoding = "UTF-8"))
# Dealing with names of the items
original_item_name = data$item
item_name = sub("^TFT_", "", original_item_name)
itme_name_df = data.frame(name = item_name) %>%
separate("name", into = c("Type", "Category", "Name")) %>%
relocate(Name, .before = Type)
# Trying for all items
all_api = "https://api-hc.metatft.com/tft-stat-api/pbe-items?days=3"
all_res = GET(all_api)
all_data = fromJSON(content(all_res, as = "text", encoding = "UTF-8"))
all_results = all_data$results
all_item_df = all_results %>%
separate(itemName, into = c("Patch", "Type", "Category", "Name"))
## 道具分類
### To identify Artifacts
for (i in 1:nrow(all_item_df)) {
if (all_item_df$Category[i] != "Artifact"){
all_item_df$Name[i] = all_item_df$Category[i]
all_item_df$Category[i] = "Normal_Item"
}
}
### To identify Emblems
for (i in 1:nrow(all_item_df)) {
if (str_ends(all_item_df$Category[i], "EmblemItem")){
all_item_df$Name[i] = sub("EmblemItem$", "", all_item_df$Category[i])
all_item_df$Category[i] = "Emblem"
}
}
str_ends(all_item_df$Category[2], "EmblemItem")
str_ends(all_item_df$Category[2], "EmblemItem")
all_item_df$Category[2]
all_item_df$Category[2]
